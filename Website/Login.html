<html>
	<head>
		<title>GMIT-Games</title>
		<!-- Drop Down Styling -->
		<link rel="stylesheet"	type="text/css" href="Scripts/Dropdown.css"/>
		
		<!-- Header -->
		<link rel="stylesheet"	type="text/css" href="Scripts/Header.css"/>
		
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	
	</head>
	<body>
		<!-- Start of Header Menu (C.McGr)-->
<div class="navbar navbar-expand-lg navbar-light .bg-light" id="Header">
	<img src="Images/Logo.png">
	<div class="container-fluid">
					<a class="text-dark navbar-brand" href="Home.html">Home</a>
					
					<!-- Something to do with short browser width and it turns the bar into a drop down. -->
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

				<div class="collapse navbar-collapse" id="navbarNav">
				<!-- Navigation bar -->
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					
					<!-- Drop Down -->
					<div class="dropdown">
						<button class="dropbtn" id="buttonDropDownMenu">Browse</button>
						<div class="dropdown-content">
							<a href="GenreGames/Action.html">Action</a>
							<a href="GenreGames/Adventure.html">Adventure</a>
							<a href="GenreGames/MMO.html">MMO Games</a>
							<a href="GenreGames/Racing.html">Racing</a>
							<a href="GenreGames/Strategy.html">Strategy</a>
						</div>
					</div>
					
						<!-- Whats on sale -->
						<li class="navbar-item">
							<a class="nav-link text-dark navbar-brand" href="WhatsOnSale.html">What's On Sale</a>
						</li>
						
						<!-- Best Sellers -->
						<li class="navbar-item">
							<a class="nav-link text-dark navbar-brand" id="bestSellerItemMenu" href="BestSellers.html">Best Sellers</a>
						</li>
						
						<!-- User Panel -->
						<li class="navbar-item">
							<b><a class="nav-link text-dark navbar-brand" href="Login.html">User Panel</a></b>
						</li>
						
						<li class="navbar-item">
							<a href="Cart.html">
								<img src="Images/Cart.png" class="nav-link text-dark navbar-brand" id="cart">
							</a>
						</li>
						
						<!-- DOM -->
						<li class="navbar-item" id="logout">
							
						</li>

					</ul>
					<div id="welcomeMessage"></div>
				</div>
	</div>
</div>
<!-- End of Header Menu -->
	<div id="loginPage">
		<img src="Images/userIcon.png" alt="User Icon" style="align-items: center;">
		
		<!-- Username and password input boxes (A.H-L, C.McGr)-->
		<h3><input type="text" id="usernameInput" placeholder="Username" size="26"><h3>
		<!-- &emsp; tabs text in and &nbsp puts in a space -->
		<br>
		<h3><input type="password" placeholder="Password" id="passwordInput" size="26"></h3>
		<input type="checkbox" onclick="showPassword()">&nbsp;&nbsp;Show Password
		<br>
		
	
		<!-- "Login" and "Forgot my Password" buttons (A.H-L)-->
		<h2>
			<button style="height:70px; width=40px;" id="loginButton" onclick="login()">Login</button>
			<br>
			<button style="height:70px; width=40px;" id="ForgetButton" onclick="forgotPassword()">I Forgot my Password</button>
		</h2>

	</div>
	</body>
	<script type="text/javascript" src="Scripts/JavaScript/LoginDetectionDOM.js"></script>
	<script>
	type="text/javascript"
		//USERNAMES AND PASSWORDS (A.H-L)
		var user = ["gamer312", "weirdturtle", "username"];
		var pass = ["easygames", "thebigbox", "password"];
		
		
		//FUNCTION FOR LOGIN BUTTON (A.H-L)
		function login(){
			var username = document.getElementById('usernameInput').value;
			var password = document.getElementById('passwordInput').value; 
			/*THIS IS A VARIABLE TO TEST WHETHER AT LEAST ONE OF THE LOGIN DETAILS MATCHES THE INPUT,
			if it is 0 then the username and password are incorrect,
			if it is 1 then the user and password are both correct
			and if it is 2 then the password is incorrect but the user is */
			var correctLogin = 0;
			
			for(var i = 0; i <= 2; i++)
				{
				if(username == user[i] && password == pass[i])
				{
					correctLogin = 1;
				}
				else if(username == user[i] && password != pass[i])
				{
					correctLogin = 2;
				}
				else 
				{
				}
				
			}
			if(correctLogin == 1)
			{
				window.location.href="Home.html";
			}
			else if(correctLogin == 2)
			{
				alert("INCORRECT PASSWORD");
			}
			else if(correctLogin == 0)
			{
				alert("INCORRECT DETAILS");
			}
			else
			{
				alert("ERROR");
			}
			
			//setting username to a localStorage when successfully logged in (C.McGr)
			var sessionUsername = document.getElementById('usernameInput').value;
			var sessionPassword = document.getElementById('passwordInput').value;
			if(correctLogin == 1)
			{
				localStorage.setItem('Username', sessionUsername);
				localStorage.setItem('Password', sessionPassword);
			}
		}
		var isUsernameCorrect = 0; //VAR TO SEE IF THE USERNAME ENTERED IS IN THE ARRAY (A.H-L)
		function forgotPassword(){
			var username = document.getElementById('usernameInput').value;
			for(var i = 0; i <= 2; i++)
			{
				if(username == user[i])
				{
					isUsernameCorrect = 1;
					var tempPassword = i;
					break;
				}
				else
				{
					isUsernameCorrect = 0;
				}
			}
			if(isUsernameCorrect == 1)
			{
				alert("PASSWORD: " + pass[tempPassword]);
			}
			else
			{
				alert("USERNAME NOT FOUND");
			}
		}
			
	//Show Password	(C.McGr)
		function showPassword()
			{
				var x = document.getElementById("passwordInput");
				if (x.type == "password")
				{
					x.type = "text";
				}
				else 
				{
					x.type = "password";
				}
			}
	//When clicking enter on the keyboard it will try logging in (A.H-L)
	if(localStorage.getItem("Username") == "null"){ //errors occur on websites other than User panel when this is not there
	var input = document.getElementById("passwordInput");
	input.addEventListener("keyup", function(event) {
	if (event.keyCode === 13) {
    event.preventDefault();
    document.getElementById("loginButton").click();
  }
});}
	<!-- End of login -->
	</script>
</html>
